<!DOCTYPE html>
<html lang="en">

<!-- layout.ejs-->
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Adelaide">
    <meta name="author" content="xt">
    <meta name="keyword" content="">
    <link rel="canonical" href="https://taoshengxu.github.io/hexo/hexo/2018/05/15/2018-05-15_R_environment/">
    <link rel="shortcut icon" href="/hexo/img/favicon.png">
    <link rel="alternate" type="application/atom+xml" title="IIM" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="/hexo/js/search.js"></script>

    <title>
        
        R包安装路径设置及从Bioconductor安装包,BiocCheck｜undefined
        
    </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="/hexo/css/main.css">

    
      <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
      <link rel="stylesheet" href="/hexo/css/highlight.css">
    

    

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


    

    

    


    
  


    




    <script async defer src="https://buttons.github.io/buttons.js"></script>

<link rel="stylesheet" href="/hexo/css/prism-solarizedlight.css" type="text/css">
<link rel="stylesheet" href="/hexo/css/prism-line-numbers.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<style>
    header.intro-header {
        background-image: url('/hexo/img/northernlights-sisimiut-lake.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><header>
  <nav class="navbar navbar-default header-navbar" id="nav-top" data-ispost="true" data-istags="false" data-ishome="false">
    <div class="container-fluid">
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" aria-expanded="false" data-target="#website_navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <span class="navbar-brand animated pulse">
          <a class="brand-logo" href="/hexo/">
                <img src="/hexo/img/banner.jpg?h=350&amp;auto=compress&amp;cs=tinysrgb">
          </a>
        </span>
      </div>

      <div class="collapse navbar-collapse" id="website_navbar">
          <ul class="nav navbar-nav navbar-right">
              
                <li>
                  <a href="/hexo/">home</a>
                </li>
              
                <li>
                  <a href="/hexo/archives/">archives</a>
                </li>
              
                <li>
                  <a href="/hexo/categories/">categories</a>
                </li>
              
                <li>
                  <a href="/hexo/tags/">tags</a>
                </li>
              
                <li>
                  <a href="/hexo/columns/">columns</a>
                </li>
              
          </ul>
      </div>
  </div></nav>


  
    <style>
       .intro-header {
          background-image: url('/hexo/img/northernlights-sisimiut-lake.jpg');
      }
    </style>

    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                    <div class="site-heading">
                        <h1>R包安装路径设置及从Bioconductor安装包,BiocCheck</h1>
                        
                        

                        
                          <span class="meta">
                               <span class="meta-item">Author: xt</span>
                               <span class="meta-item">Date: May 15, 2018</span>
                               
                          </span>
                          <div class="tags text-center">
                              Categories: 
                          </div>
                          <div class="tags text-center">
                              Tags: 
                          </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
  
</header>


<!-- Main Content -->
<!-- post.ejs -->
<article>
    <div class="container">
      <div class="col-lg-8 col-lg-offset-1 col-sm-9">
          
          <span class="post-count">568 words in total, 3 minutes required.</span>
          <hr>
          
          <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h1 id="设置临时安装路径"><a href="#设置临时安装路径" class="headerlink" title="设置临时安装路径"></a>设置临时安装路径</h1><blockquote>
<p>.libPaths()<br>.libPaths(.libPaths()[2]) #将第二路径设为默认</p>
<h1 id="设置其他用户的R-包路径"><a href="#设置其他用户的R-包路径" class="headerlink" title="设置其他用户的R 包路径"></a>设置其他用户的R 包路径</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&gt;.libPaths(<span class="string">"/home/ubuntu/R/x86_64-pc-linux-gnu-library/3.6"</span>)</span><br><span class="line">&gt;</span><br></pre></td></tr></table></figure>
</blockquote>
<h1 id="设置永久安装路径"><a href="#设置永久安装路径" class="headerlink" title="设置永久安装路径"></a>设置永久安装路径</h1><h2 id="windows设置环境变量"><a href="#windows设置环境变量" class="headerlink" title="windows设置环境变量"></a>windows设置环境变量</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 新建系统环境变量R_LIBS ,值为自定义R包安装目录。</span></span><br><span class="line">R_LIBS=D:/R_Library</span><br><span class="line"><span class="comment"># 重启R,在R中运行.libPaths()即可查看设置是否生效。</span></span><br></pre></td></tr></table></figure>
<h2 id="Linux-设置"><a href="#Linux-设置" class="headerlink" title="Linux 设置"></a>Linux 设置</h2><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 首先运行 .libPaths() 查看是否有系统公共路径，如果有公共路径，可能是</span></span><br><span class="line"><span class="comment"># 普通用户没有安装的读写权限，只需要开放路径的读写权限给普通用户即可</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## 或者添加 新的永久路径（运行下面代码，没有尝试，不知道行不行）</span></span><br><span class="line">$  R_LIBS=<span class="string">"/usr/lib/R/Library"</span> R -q -e <span class="string">'print(.libPaths())'</span></span><br><span class="line"><span class="comment">## 或者 进入 /usr/lib/R/library/base/R/Rprofile 目录,修改 Rprofile 文件，在最后添加</span></span><br><span class="line"></span><br><span class="line"><span class="comment">## my custom stuff</span></span><br><span class="line">mypaths&lt;-.libPaths()</span><br><span class="line">mypaths&lt;-c(mypaths[<span class="number">2</span>],mypaths[<span class="number">1</span>]) <span class="comment"># switch order</span></span><br><span class="line">mypaths&lt;-c(mypaths,<span class="string">"/usr/lib/R/site-library"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="R-编译不通过"><a href="#R-编译不通过" class="headerlink" title="R 编译不通过"></a>R 编译不通过</h1><figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">Sys</span><span class="selector-class">.setenv</span>(<span class="string">"PKG_CXXFLAGS"</span>=<span class="string">"-std=c++11"</span>)</span><br></pre></td></tr></table></figure>
<h1 id="BiocCheck"><a href="#BiocCheck" class="headerlink" title="BiocCheck"></a>BiocCheck</h1><figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># *By default that the directory gets cleaned up as long as there aren't any errors. If you want it to stick around (to check warnings, for instance) you can enable that under Tools &gt; Global Options &gt; Packages   "Cleanup output after successful R CMD check" option.*</span></span><br><span class="line"></span><br><span class="line">dir=<span class="string">"D:/xxx_0.99.7.tar.gz"</span></span><br><span class="line">BiocCheck(dir)</span><br></pre></td></tr></table></figure>
<h1 id="R从bioconductor安装包-最新"><a href="#R从bioconductor安装包-最新" class="headerlink" title="R从bioconductor安装包(最新)"></a>R从bioconductor安装包(最新)</h1><blockquote>
<p>在主目录下新建 ~/.Rprofile 文件，写入 （在文件中写入好像不行，需要在R中实时运行一下）</p>
</blockquote>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">options(BioC_mirror=<span class="string">"https://mirrors.tuna.tsinghua.edu.cn/bioconductor"</span>) <span class="comment">##指定镜像</span></span><br><span class="line"><span class="comment"># options( BioC_mirror = "https://mirrors.ustc.edu.cn/bioc/" )  ##暂时不能用了</span></span><br><span class="line">options(<span class="string">"repos"</span> = c(CRAN=<span class="string">"https://mirrors.ustc.edu.cn/CRAN/"</span>)) <span class="comment">##指定install.packages安装镜像，这个是清华镜像</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 或者在 /usr/lib/R/library/base/R中修改添加</span></span><br></pre></td></tr></table></figure>
<blockquote>
<p>进入R 测试</p>
</blockquote>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">options()$repos  <span class="comment">## 查看使用install.packages安装时的默认镜像</span></span><br><span class="line">options()$BioC_mirror <span class="comment">##查看使用bioconductor的默认镜像</span></span><br></pre></td></tr></table></figure>
<h1 id="R从本地安装Github-包"><a href="#R从本地安装Github-包" class="headerlink" title="R从本地安装Github 包"></a>R从本地安装Github 包</h1><blockquote>
<p>因为网络速度问题，直接从github安装不成功</p>
</blockquote>
<figure class="highlight r"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># devtools::install_github('cole-trapnell-lab/leidenbase')   速度可能太慢不成功</span></span><br><span class="line"><span class="comment"># devtools::install_github('cole-trapnell-lab/monocle3')</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 从本地文件夹安装</span></span><br><span class="line">git clone https://github.com/cole-trapnell-lab/monocle3.git</span><br><span class="line">devtools::install(<span class="string">"path/to/unzipped_pkg_zip_file"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 从zip打包文件安装</span></span><br><span class="line">devtools::install_local(<span class="string">"path/to/zip_file"</span>) <span class="comment"># download from github</span></span><br></pre></td></tr></table></figure>

          
          <hr>
          <ul class="pager no-print">
              
              <li class="previous">
                  <a href="/hexo/2018/05/18/2018-05-18_r-appveyor/" data-toggle="tooltip" data-placement="left" title="R-appveyor设置">&larr; Previous Post</a>
              </li>
              
              
              <li class="next">
                  <a href="/hexo/2018/04/11/2018-04-11_Rdatabase/" data-toggle="tooltip" data-placement="top" title="R语言数据库操作">Next Post&rarr;</a>
              </li>
              
          </ul>
          
  <br>

  


      </div>
      
  <div class="hidden-xs col-sm-3 toc-col">
    <div class="toc-wrap">
        Table of Contents
        
          <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#设置临时安装路径"><span class="toc-number">1.</span> <span class="toc-text">设置临时安装路径</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置其他用户的R-包路径"><span class="toc-number">2.</span> <span class="toc-text">设置其他用户的R 包路径</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#设置永久安装路径"><span class="toc-number">3.</span> <span class="toc-text">设置永久安装路径</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#windows设置环境变量"><span class="toc-number">3.1.</span> <span class="toc-text">windows设置环境变量</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux-设置"><span class="toc-number">3.2.</span> <span class="toc-text">Linux 设置</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#R-编译不通过"><span class="toc-number">4.</span> <span class="toc-text">R 编译不通过</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#BiocCheck"><span class="toc-number">5.</span> <span class="toc-text">BiocCheck</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#R从bioconductor安装包-最新"><span class="toc-number">6.</span> <span class="toc-text">R从bioconductor安装包(最新)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#R从本地安装Github-包"><span class="toc-number">7.</span> <span class="toc-text">R从本地安装Github 包</span></a></li></ol>
        
    </div>
  </div>


    </div>
</article>

<!-- Footer -->
<!-- footer.ejs -->
<footer class="no-print">

    <div class="text-center">

        <ul class="list-inline">
            
            
            

            

            

            

            

            

        </ul>
        <div class="text-muted copyright">
            &copy;
            
            2017 - 2020
            
            -
            xt
            <br>
            
            
            
            | 
            <p>
                <span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span> <b>PV</b></span> -
                <span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span> <b>UV</b></span> -
                170.1k <b>Words</b>
        </p></div>

        <div class="search-container">
            <form class="site-search-form">
                <span class="glyphicon glyphicon-search"></span>
                <input type="text" id="local-search-input" class="st-search-input" placeholder="Search...">
            </form>
            <div id="local-search-result" class="local-search-result-cls"></div>
        </div>
        <script type="text/javascript" id="local.search.active">
            var inputArea = document.querySelector("#local-search-input");
            inputArea.onclick = function () {
                var root = "/hexo/";
                getSearchFile(root);
                this.onclick = null
            }
            inputArea.onkeydown = function () {
                if (event.keyCode == 13) return false
            }
        </script>

    </div>
</footer>

<!-- Custom Theme JavaScript -->
<script src="/hexo/js/main.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function (e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</body>

</html>
