<!DOCTYPE html>
<html lang="en">

<!-- layout.ejs-->
<head><meta name="generator" content="Hexo 3.8.0">
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Adelaide">
    <meta name="author" content="xt">
    <meta name="keyword" content="">
    <link rel="canonical" href="https://taoshengxu.github.io/hexo/hexo/2019/12/26/2019-12-26_SRA_data/">
    <link rel="shortcut icon" href="/hexo/img/favicon.png">
    <link rel="alternate" type="application/atom+xml" title="IIM" href="/atom.xml">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="/hexo/js/search.js"></script>

    <title>
        
        SRA 序列数据库｜undefined
        
    </title>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="/hexo/css/main.css">

    
      <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
      <link rel="stylesheet" href="/hexo/css/highlight.css">
    

    

    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>


    

    

    


    
  


    




    <script async defer src="https://buttons.github.io/buttons.js"></script>

<link rel="stylesheet" href="/hexo/css/prism-solarizedlight.css" type="text/css">
<link rel="stylesheet" href="/hexo/css/prism-line-numbers.css" type="text/css"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<style>
    header.intro-header {
        background-image: url('/hexo/img/northernlights-sisimiut-lake.jpg')
    }
</style>
<!-- hack iOS CSS :active style -->
<body ontouchstart="" class="animated fadeIn">
<!-- hexo-inject:begin --><!-- hexo-inject:end --><header>
  <nav class="navbar navbar-default header-navbar" id="nav-top" data-ispost="true" data-istags="false" data-ishome="false">
    <div class="container-fluid">
      <div class="navbar-header page-scroll">
        <button type="button" class="navbar-toggle" data-toggle="collapse" aria-expanded="false" data-target="#website_navbar">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <span class="navbar-brand animated pulse">
          <a class="brand-logo" href="/hexo/">
                <img src="/hexo/img/banner.jpg?h=350&amp;auto=compress&amp;cs=tinysrgb">
          </a>
        </span>
      </div>

      <div class="collapse navbar-collapse" id="website_navbar">
          <ul class="nav navbar-nav navbar-right">
              
                <li>
                  <a href="/hexo/">home</a>
                </li>
              
                <li>
                  <a href="/hexo/archives/">archives</a>
                </li>
              
                <li>
                  <a href="/hexo/categories/">categories</a>
                </li>
              
                <li>
                  <a href="/hexo/tags/">tags</a>
                </li>
              
                <li>
                  <a href="/hexo/columns/">columns</a>
                </li>
              
          </ul>
      </div>
  </div></nav>


  
    <style>
       .intro-header {
          background-image: url('/hexo/post_cover_images/moon.jpg');
      }
    </style>

    <div class="intro-header">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 text-center">
                    <div class="site-heading">
                        <h1>SRA 序列数据库</h1>
                        
                        

                        
                          <span class="meta">
                               <span class="meta-item">Author: XT</span>
                               <span class="meta-item">Date: Dec 26, 2019</span>
                               
                          </span>
                          <div class="tags text-center">
                              Categories: 
                              <a class="tag" href="/hexo/categories/#Bioinformatics" title="Bioinformatics">Bioinformatics</a>
                              
                          </div>
                          <div class="tags text-center">
                              Tags: 
                          </div>
                        
                    </div>
                </div>
            </div>
        </div>
    </div>
  
</header>


<!-- Main Content -->
<!-- post.ejs -->
<article>
    <div class="container">
      <div class="col-lg-8 col-lg-offset-1 col-sm-9">
          
          <span class="post-count">516 words in total, 3 minutes required.</span>
          <hr>
          
          <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/hint.css/2.4.1/hint.min.css"><h3 id="GEO"><a href="#GEO" class="headerlink" title="GEO"></a>GEO</h3><p>SRA格式<br><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp://ftp-trace.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByExp/sra/SRX/SRX189/SRX189773/SRR576933/SRR576933.sra</span><br></pre></td></tr></table></figure></p>
<h3 id="EBI"><a href="#EBI" class="headerlink" title="EBI"></a>EBI</h3><p>fastq格式<br><figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ftp:<span class="regexp">//</span>ftp.sra.ebi.ac.uk<span class="regexp">/vol1/</span>fastq<span class="regexp">/SRR576/</span>SRR576933<span class="regexp">/SRR576933.fastq.gz</span></span><br></pre></td></tr></table></figure></p>
<h4 id="通过NCBI-SRR-Acc-List获取ftp批量下载地址"><a href="#通过NCBI-SRR-Acc-List获取ftp批量下载地址" class="headerlink" title="通过NCBI SRR_Acc_List获取ftp批量下载地址"></a>通过NCBI SRR_Acc_List获取ftp批量下载地址</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat SRR_Acc_List.txt | <span class="keyword">while</span> <span class="built_in">read</span> id;</span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line"><span class="built_in">echo</span> ftp://ftp.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByRun/sra/SRR/<span class="variable">$&#123;id:0:6&#125;</span>/<span class="variable">$id</span>/<span class="variable">$id</span>.sra &gt;&gt; ftp.txt</span><br><span class="line"><span class="keyword">done</span> </span><br><span class="line"><span class="comment">#然后把ftp.txt地址拷贝的迅雷里即可实现批量下载</span></span><br></pre></td></tr></table></figure>
<h4 id="IBM的aspera加速器加速prefetch-（目前科技网调不通）"><a href="#IBM的aspera加速器加速prefetch-（目前科技网调不通）" class="headerlink" title="IBM的aspera加速器加速prefetch （目前科技网调不通）"></a>IBM的aspera加速器加速prefetch （目前科技网调不通）</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">conda install -y -c bioconda sra-tools</span><br><span class="line">conda install -y -c hcc aspera-cli</span><br><span class="line">再把ascp可执行文件的路径加入PATH变量中</span><br><span class="line"><span class="built_in">echo</span> <span class="string">'export PATH=/soft/miniconda3/bin/:$PATH'</span> &gt;&gt;~/.bashrc</span><br><span class="line">保存，退出，然后运行：</span><br><span class="line"><span class="built_in">source</span> ~/.bashrc</span><br><span class="line"></span><br><span class="line">一般ascp没有什么问题，出问题主要是：</span><br><span class="line">ascp: Failed to open TCP connection <span class="keyword">for</span> SSH, exiting.</span><br><span class="line">Session Stop  (Error: Failed to open TCP connection <span class="keyword">for</span> SSH)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 官网给出的解决办法是 On many Linux systems the default firewall can be configured with iptables. You will have to allow all incoming and outgoing traffic on UDP port 33001 (or whatever your Aspera UDP port is), which you can do with the following commands:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用下面这两个命令(但需要管理员权限)</span></span><br><span class="line"><span class="comment"># sudo iptables -I INPUT -p tcp --dport 33001 -j ACCEPT</span></span><br><span class="line"><span class="comment"># sudo iptables -I OUTPUT -p tcp --dport 33001 -j ACCEPT</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">which</span> ascp </span><br><span class="line"><span class="comment">## 一定要搞清楚你的软件被conda安装在哪</span></span><br><span class="line"></span><br><span class="line">ls -lh /soft/miniconda3/etc/asperaweb_id_dsa.openssh l</span><br><span class="line"><span class="comment">#通过SSH连接：</span></span><br><span class="line">ascp -v -k 1 -T -l 200m -i /soft/miniconda3/etc/asperaweb_id_dsa.openssh dbtest@sra-download.ncbi.nlm.nih.gov:data/sracloud/traces/sra51/SRR/005768/SRR5907429 ./ </span><br><span class="line">ascp -v -k 1 -T -l 200m -i /soft/miniconda3/etc/asperaweb_id_dsa.openssh anonftp@ftp-private.ncbi.nlm.nih.gov:/sra/sra-instant/reads/ByRun/sra/SRR/SRR590/SRR5907429/SRR5907429.sra ./</span><br><span class="line"><span class="comment">#主机：</span></span><br><span class="line">ascp -v -k 1 -T -l 200m -i /soft/miniconda3/etc/asperaweb_id_dsa.putty anonftp@ftp-private.ncbi.nlm.nih.gov:/sra/sra-instant/reads/ByRun/sra/SRR/SRR590/SRR5907429/SRR5907429.sra ./</span><br><span class="line"><span class="comment">#批量下载：</span></span><br><span class="line"><span class="keyword">for</span>(i=488;i&lt;=511;i++);</span><br><span class="line"><span class="keyword">do</span> wget ftp://ftp.ncbi.nlm.nih.gov/sra/sra-instant/reads/ByRun/sra/SRR/SRR857/SRR8571<span class="variable">$i</span>/SRR8571<span class="variable">$i</span>.sra；</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#当安装了aspera以后，prefetch会优先调用aspera</span></span><br><span class="line">prefetch SRR5907429 <span class="comment">#可能会报错</span></span><br><span class="line">prefetch --ascp-path <span class="string">'/soft/miniconda3/bin/ascp | /soft/miniconda3/etc/asperaweb_id_dsa.opensash'</span> SRR5907429</span><br></pre></td></tr></table></figure>

          
          <hr>
          <ul class="pager no-print">
              
              <li class="previous">
                  <a href="/hexo/2019/12/26/2019-12-26_NGS_Epigenetic/" data-toggle="tooltip" data-placement="left" title="NGS表观调控学习">&larr; Previous Post</a>
              </li>
              
              
              <li class="next">
                  <a href="/hexo/2019/12/05/2019-12-05_allele/" data-toggle="tooltip" data-placement="top" title="染色体-同源染色体-等位基因">Next Post&rarr;</a>
              </li>
              
          </ul>
          

      </div>
      
  <div class="hidden-xs col-sm-3 toc-col">
    <div class="toc-wrap">
        Table of Contents
        
          <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#GEO"><span class="toc-number">1.</span> <span class="toc-text">GEO</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#EBI"><span class="toc-number">2.</span> <span class="toc-text">EBI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#通过NCBI-SRR-Acc-List获取ftp批量下载地址"><span class="toc-number">2.1.</span> <span class="toc-text">通过NCBI SRR_Acc_List获取ftp批量下载地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#IBM的aspera加速器加速prefetch-（目前科技网调不通）"><span class="toc-number">2.2.</span> <span class="toc-text">IBM的aspera加速器加速prefetch （目前科技网调不通）</span></a></li></ol></li></ol>
        
    </div>
  </div>


    </div>
</article>

<!-- Footer -->
<!-- footer.ejs -->
<footer class="no-print">

    <div class="text-center">

        <ul class="list-inline">
            
            
            

            

            

            

            

            

        </ul>
        <div class="text-muted copyright">
            &copy;
            
            2017 - 2019
            
            -
            xt
            <br>
            
            
            
            | 
            <p>
                <span id="busuanzi_container_site_pv"><span id="busuanzi_value_site_pv"></span> <b>PV</b></span> -
                <span id="busuanzi_container_site_uv"><span id="busuanzi_value_site_uv"></span> <b>UV</b></span> -
                124.0k <b>Words</b>
        </p></div>

        <div class="search-container">
            <form class="site-search-form">
                <span class="glyphicon glyphicon-search"></span>
                <input type="text" id="local-search-input" class="st-search-input" placeholder="Search...">
            </form>
            <div id="local-search-result" class="local-search-result-cls"></div>
        </div>
        <script type="text/javascript" id="local.search.active">
            var inputArea = document.querySelector("#local-search-input");
            inputArea.onclick = function () {
                var root = "/hexo/";
                getSearchFile(root);
                this.onclick = null
            }
            inputArea.onkeydown = function () {
                if (event.keyCode == 13) return false
            }
        </script>

    </div>
</footer>

<!-- Custom Theme JavaScript -->
<script src="/hexo/js/main.js"></script>

<!-- async load function -->
<script>
    function async(u, c) {
        var d = document, t = 'script',
            o = d.createElement(t),
            s = d.getElementsByTagName(t)[0];
        o.src = u;
        if (c) {
            o.addEventListener('load', function (e) {
                c(null, e);
            }, false);
        }
        s.parentNode.insertBefore(o, s);
    }
</script>

<!--fastClick.js -->
<script>
    async("//cdn.bootcss.com/fastclick/1.0.6/fastclick.min.js", function () {
        var $nav = document.querySelector("nav");
        if ($nav) FastClick.attach($nav);
    })
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->



</body>

</html>
